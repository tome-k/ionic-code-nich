<ion-content [scrollEvents]="true">
  <!-- Summary the css style later -->
  <!-- Achieve first -->
  <table class="table">
    <tbody>
      <tr>
        <td style="width:66.6%;"
          [style.border]="recordRngEditingFlg && flashCssFlg ? '1px red solid' : '1px white solid'">
          <div class="dragLabelDiv"
              [style.height]="lengthRngFull + 2 + 'px'"
              [style.padding-top]="lengthRngPaddingB + 'px'"
              [style.padding-bottom]="lengthRngPaddingB + 'px'">
            <input type="range"
                  id="rangeDate"
                  class="range"
                  [style.margin-top]="'0px'"
                  [min]="'0'"
                  [max]="'30'"
                  step="1"
                  list=rangeDateList
                  [style.height]="lengthRngStandard + lengthRngPaddingB * 2 + 'px'"
                  [(ngModel)]="rangeDateOffset">
              <datalist id=rangeDateList>
                <option *ngFor="let item of rangeDateList">{{item}}</option>
              </datalist>
          </div>
          <div class="absoluteDiv"
                id="dateDrag"
                [style.top]="rangeDateOffset * 20 + 'px'">
                XXX
          </div>
          <!-- Adjust offset value: 2px -->
          <div class="chartDiv"
              [style.height]="lengthRngFull + 2 + 'px'"
              [style.padding-top]="lengthRngPaddingA + 'px'"
              [style.padding-bottom]="lengthRngPaddingA + 'px'">
            <div *ngFor="let item of displayList"
            style="width:100%;"
              [style.backgroundColor]="item.color"
              [style.height]="item.length + 'px'">
            </div>
          </div>
          <div class="calibrationDiv">
            <img src="../../assets/img/scaleWithNumber3000-600-625.jpg" alt="scale image" [height]="lengthRngFull">
          </div>
          <div class="dragLabelDiv"
              [style.height]="lengthRngFull + 2 + 'px'"
              [style.padding-top]="lengthRngPaddingB + 'px'"
              [style.padding-bottom]="lengthRngPaddingB + 'px'">
            <input type="range"
                   id="rangeTime"
                   class="range"
                   [style.margin-top]=" propRngStart * lengthRngStandard + 'px'"
                   [min]="propRngStart * lengthRngStandard"
                   [max]="propRngEnd * lengthRngStandard"
                   step="any"
                   [style.height]="(propRngEnd - propRngStart) * lengthRngStandard + lengthRngPaddingB * 2 + 'px'"
                   [(ngModel)]="lengthTimeSetPosition">
            <div class="absoluteDiv"
                id="timeDrag"
                [style.top]="lengthTimeSetPosition + 'px'"
                [style.left]="'-60px'">
            </div>
          </div>
        </td>
        <td align="center" style="position: relative; padding-left:0px;">
          <div id="timeNow" class="calendarTime"></div>
          <div *ngIf="storage.setting.length">
            <!-- TODO drag and drop -->
            <div *ngFor="let item of storage.setting" style="margin-bottom:6px">
              <button type="button" class="btn btn-primary customLabel"
                [style.background-color]="item.color"
                [style.width]="labelEditingFlg ? '80%' : '100%'"
                [style.color]="item.color && this.cs.checkIfFontColorToWhite(item.color) ? 'white' : 'black'"
                [style.border]="item.label === labelLast && !labelEditingFlg && flashCssFlg ? '2px solid ' + item.color : '2px solid white'"
                (click)="onLabelClick(item.label)">
                {{item.label}}
              </button>
              <button type="button" class="btn btn-sm customX"
                *ngIf="labelEditingFlg"
                (click)="onLabelDelete(item.label)">
                X
              </button>
            </div>
          </div>
          <div *ngIf="!storage.setting.length">
            You can creat your label below.
          </div>
          <div *ngIf="labelEditingFlg">
            <input [style.background]="colorAdded"
                    placeholder="Label"
                    class="phBlack"
                    [style.color]="colorAdded && this.cs.checkIfFontColorToWhite(colorAdded) ? 'white' : 'black'"
                    [(ngModel)]="labelAdded"
                    style="width:80%; height:36px; margin-top:4px;">
            <button type="button" class="btn btn-sm customX"
              (click)="onLabelAdd($event, labelAdded)">
              +
            </button>
          </div>
          <div style="position:absolute; width:80%; bottom:12px">
            <button *ngIf="labelEditingFlg" type="button" class="btn btn-primary customLabel"
              style="background-color:gray; margin-bottom: 10px;"
              (click)="onLabelDefault()">
              Default
            </button>
            <button type="button" class="btn btn-primary customLabel"
              style="background-color:gray;"
              (click)="onLabelEdit()">
              <div *ngIf="!labelEditingFlg">Edit</div>
              <div *ngIf="labelEditingFlg">Return</div>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  
  <div style="margin-bottom:10px">
    <button type="button" class="btn btn-primary customLabel"
      style="background-color:black;"
      (click)="onLabelRevert()">Revert</button>
  </div>

</ion-content>

